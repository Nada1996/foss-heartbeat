{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389", "id": 61859619, "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/389", "diff_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/389.diff", "patch_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/389.patch", "issue_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/389", "number": 389, "state": "closed", "locked": false, "title": "Add validation to limit the max. number of students per team", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "body": "Validation for the teams model to limit the max. number of students to two. Editing and deleting roles, etc. are taken into account, the validation process takes place in memory, not relying on data yet to be persisted.\n\nace624f adds the validation for the team model.\n\ndda1f8f adds the classic behavior of firing the team's validations when saving a role, which will add the default Rails error message to the role: **`Team is invalid`**. I personally don't like this behavior, as I think it doesn't provide meaningful insights to the user. It rather adds complexity for her to understand what went wrong (_\"2 errors prohibited this role from being saved ... Team is invalid\"_).\n\nTherefore 50812f9 undos firing the team model's validations when saving a role and instead displays the team's own error message in the role's form, if adding/editing a role does not suit the constraints of the team the role is connected to. As the **`Add a member`** button in the team's show view is just a shortcut duplicating the behavior of the normal **`Edit`**, the team-context is obvious anyways, so I consider showing the team errors more useful here.\n\nIf you don't like this approach, you can either just discard the last commit (50812f9) or tell me to rework it. If you like it, I would further suggest to fully ditch the **`Add a member`** button as it is available in an approachable way within the team's form anyways.\n\n9c349da fixes some minor problems I ran into when bootstrapping the project.\n", "created_at": "2016-03-06T23:37:28Z", "updated_at": "2016-03-11T20:46:17Z", "closed_at": "2016-03-07T13:01:29Z", "merged_at": "2016-03-07T13:01:29Z", "merge_commit_sha": "90da8ae8d9dfed5e9884001c5dcdbb329f170701", "assignee": null, "assignees": [], "requested_reviewers": [], "requested_teams": [], "labels": [], "milestone": null, "commits_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389/commits", "review_comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389/comments", "review_comment_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments{/number}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/389/comments", "statuses_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/statuses/50812f906dc0e109b2a0bb65c5762d963dc6229a", "head": {"label": "klappradla:205", "ref": "205", "sha": "50812f906dc0e109b2a0bb65c5762d963dc6229a", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "repo": {"id": 53211432, "name": "rgsoc-teams", "full_name": "klappradla/rgsoc-teams", "owner": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "private": false, "html_url": "https://github.com/klappradla/rgsoc-teams", "description": "Teams management and activity ", "fork": true, "url": "https://api.github.com/repos/klappradla/rgsoc-teams", "forks_url": "https://api.github.com/repos/klappradla/rgsoc-teams/forks", "keys_url": "https://api.github.com/repos/klappradla/rgsoc-teams/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/klappradla/rgsoc-teams/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/klappradla/rgsoc-teams/teams", "hooks_url": "https://api.github.com/repos/klappradla/rgsoc-teams/hooks", "issue_events_url": "https://api.github.com/repos/klappradla/rgsoc-teams/issues/events{/number}", "events_url": "https://api.github.com/repos/klappradla/rgsoc-teams/events", "assignees_url": "https://api.github.com/repos/klappradla/rgsoc-teams/assignees{/user}", "branches_url": "https://api.github.com/repos/klappradla/rgsoc-teams/branches{/branch}", "tags_url": "https://api.github.com/repos/klappradla/rgsoc-teams/tags", "blobs_url": "https://api.github.com/repos/klappradla/rgsoc-teams/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/klappradla/rgsoc-teams/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/klappradla/rgsoc-teams/git/refs{/sha}", "trees_url": "https://api.github.com/repos/klappradla/rgsoc-teams/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/klappradla/rgsoc-teams/statuses/{sha}", "languages_url": "https://api.github.com/repos/klappradla/rgsoc-teams/languages", "stargazers_url": "https://api.github.com/repos/klappradla/rgsoc-teams/stargazers", "contributors_url": "https://api.github.com/repos/klappradla/rgsoc-teams/contributors", "subscribers_url": "https://api.github.com/repos/klappradla/rgsoc-teams/subscribers", "subscription_url": "https://api.github.com/repos/klappradla/rgsoc-teams/subscription", "commits_url": "https://api.github.com/repos/klappradla/rgsoc-teams/commits{/sha}", "git_commits_url": "https://api.github.com/repos/klappradla/rgsoc-teams/git/commits{/sha}", "comments_url": "https://api.github.com/repos/klappradla/rgsoc-teams/comments{/number}", "issue_comment_url": "https://api.github.com/repos/klappradla/rgsoc-teams/issues/comments{/number}", "contents_url": "https://api.github.com/repos/klappradla/rgsoc-teams/contents/{+path}", "compare_url": "https://api.github.com/repos/klappradla/rgsoc-teams/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/klappradla/rgsoc-teams/merges", "archive_url": "https://api.github.com/repos/klappradla/rgsoc-teams/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/klappradla/rgsoc-teams/downloads", "issues_url": "https://api.github.com/repos/klappradla/rgsoc-teams/issues{/number}", "pulls_url": "https://api.github.com/repos/klappradla/rgsoc-teams/pulls{/number}", "milestones_url": "https://api.github.com/repos/klappradla/rgsoc-teams/milestones{/number}", "notifications_url": "https://api.github.com/repos/klappradla/rgsoc-teams/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/klappradla/rgsoc-teams/labels{/name}", "releases_url": "https://api.github.com/repos/klappradla/rgsoc-teams/releases{/id}", "deployments_url": "https://api.github.com/repos/klappradla/rgsoc-teams/deployments", "created_at": "2016-03-05T16:39:21Z", "updated_at": "2016-03-05T16:39:22Z", "pushed_at": "2016-03-12T17:55:21Z", "git_url": "git://github.com/klappradla/rgsoc-teams.git", "ssh_url": "git@github.com:klappradla/rgsoc-teams.git", "clone_url": "https://github.com/klappradla/rgsoc-teams.git", "svn_url": "https://github.com/klappradla/rgsoc-teams", "homepage": "https://teams.railsgirlssummerofcode.org", "size": 2332, "stargazers_count": 0, "watchers_count": 0, "language": "Ruby", "has_issues": false, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 0, "mirror_url": null, "archived": false, "open_issues_count": 0, "license": null, "forks": 0, "open_issues": 0, "watchers": 0, "default_branch": "master"}}, "base": {"label": "rails-girls-summer-of-code:master", "ref": "master", "sha": "f6aa9cc6a50bc1cf8c7be6ecdb06c8b91854075d", "user": {"login": "rails-girls-summer-of-code", "id": 4704447, "avatar_url": "https://avatars3.githubusercontent.com/u/4704447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rails-girls-summer-of-code", "html_url": "https://github.com/rails-girls-summer-of-code", "followers_url": "https://api.github.com/users/rails-girls-summer-of-code/followers", "following_url": "https://api.github.com/users/rails-girls-summer-of-code/following{/other_user}", "gists_url": "https://api.github.com/users/rails-girls-summer-of-code/gists{/gist_id}", "starred_url": "https://api.github.com/users/rails-girls-summer-of-code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rails-girls-summer-of-code/subscriptions", "organizations_url": "https://api.github.com/users/rails-girls-summer-of-code/orgs", "repos_url": "https://api.github.com/users/rails-girls-summer-of-code/repos", "events_url": "https://api.github.com/users/rails-girls-summer-of-code/events{/privacy}", "received_events_url": "https://api.github.com/users/rails-girls-summer-of-code/received_events", "type": "Organization", "site_admin": false}, "repo": {"id": 10705327, "name": "rgsoc-teams", "full_name": "rails-girls-summer-of-code/rgsoc-teams", "owner": {"login": "rails-girls-summer-of-code", "id": 4704447, "avatar_url": "https://avatars3.githubusercontent.com/u/4704447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rails-girls-summer-of-code", "html_url": "https://github.com/rails-girls-summer-of-code", "followers_url": "https://api.github.com/users/rails-girls-summer-of-code/followers", "following_url": "https://api.github.com/users/rails-girls-summer-of-code/following{/other_user}", "gists_url": "https://api.github.com/users/rails-girls-summer-of-code/gists{/gist_id}", "starred_url": "https://api.github.com/users/rails-girls-summer-of-code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rails-girls-summer-of-code/subscriptions", "organizations_url": "https://api.github.com/users/rails-girls-summer-of-code/orgs", "repos_url": "https://api.github.com/users/rails-girls-summer-of-code/repos", "events_url": "https://api.github.com/users/rails-girls-summer-of-code/events{/privacy}", "received_events_url": "https://api.github.com/users/rails-girls-summer-of-code/received_events", "type": "Organization", "site_admin": false}, "private": false, "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams", "description": "Teams management and activity ", "fork": false, "url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "forks_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/forks", "keys_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/keys{/key_id}", "collaborators_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/collaborators{/collaborator}", "teams_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/teams", "hooks_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/hooks", "issue_events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/events{/number}", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/events", "assignees_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/assignees{/user}", "branches_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/branches{/branch}", "tags_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/tags", "blobs_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/git/blobs{/sha}", "git_tags_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/git/tags{/sha}", "git_refs_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/git/refs{/sha}", "trees_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/git/trees{/sha}", "statuses_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/statuses/{sha}", "languages_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/languages", "stargazers_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/stargazers", "contributors_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/contributors", "subscribers_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/subscribers", "subscription_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/subscription", "commits_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/commits{/sha}", "git_commits_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/git/commits{/sha}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/comments{/number}", "issue_comment_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/comments{/number}", "contents_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/contents/{+path}", "compare_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/compare/{base}...{head}", "merges_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/merges", "archive_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/{archive_format}{/ref}", "downloads_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/downloads", "issues_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues{/number}", "pulls_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls{/number}", "milestones_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/milestones{/number}", "notifications_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/notifications{?since,all,participating}", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/labels{/name}", "releases_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/releases{/id}", "deployments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/deployments", "created_at": "2013-06-15T11:13:22Z", "updated_at": "2018-02-28T15:56:26Z", "pushed_at": "2018-03-08T22:57:26Z", "git_url": "git://github.com/rails-girls-summer-of-code/rgsoc-teams.git", "ssh_url": "git@github.com:rails-girls-summer-of-code/rgsoc-teams.git", "clone_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams.git", "svn_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams", "homepage": "https://teams.railsgirlssummerofcode.org", "size": 7974, "stargazers_count": 47, "watchers_count": 47, "language": "Ruby", "has_issues": true, "has_projects": true, "has_downloads": true, "has_wiki": true, "has_pages": false, "forks_count": 130, "mirror_url": null, "archived": false, "open_issues_count": 67, "license": {"key": "mit", "name": "MIT License", "spdx_id": "MIT", "url": "https://api.github.com/licenses/mit"}, "forks": 130, "open_issues": 67, "watchers": 47, "default_branch": "master"}}, "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/389"}, "issue": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/389"}, "comments": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/389/comments"}, "review_comments": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389/comments"}, "review_comment": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/389/commits"}, "statuses": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/statuses/50812f906dc0e109b2a0bb65c5762d963dc6229a"}}, "author_association": "MEMBER", "body_html": "<p>Validation for the teams model to limit the max. number of students to two. Editing and deleting roles, etc. are taken into account, the validation process takes place in memory, not relying on data yet to be persisted.</p>\n<p><a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/commit/ace624fe341bc592522f3c0339668a2244263178\" class=\"commit-link\"><tt>ace624f</tt></a> adds the validation for the team model.</p>\n<p><a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/commit/dda1f8f7e403c734fbb4597016db052f9db2410d\" class=\"commit-link\"><tt>dda1f8f</tt></a> adds the classic behavior of firing the team's validations when saving a role, which will add the default Rails error message to the role: <strong><code>Team is invalid</code></strong>. I personally don't like this behavior, as I think it doesn't provide meaningful insights to the user. It rather adds complexity for her to understand what went wrong (<em>\"2 errors prohibited this role from being saved ... Team is invalid\"</em>).</p>\n<p>Therefore <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/commit/50812f906dc0e109b2a0bb65c5762d963dc6229a\" class=\"commit-link\"><tt>50812f9</tt></a> undos firing the team model's validations when saving a role and instead displays the team's own error message in the role's form, if adding/editing a role does not suit the constraints of the team the role is connected to. As the <strong><code>Add a member</code></strong> button in the team's show view is just a shortcut duplicating the behavior of the normal <strong><code>Edit</code></strong>, the team-context is obvious anyways, so I consider showing the team errors more useful here.</p>\n<p>If you don't like this approach, you can either just discard the last commit (<a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/commit/50812f906dc0e109b2a0bb65c5762d963dc6229a\" class=\"commit-link\"><tt>50812f9</tt></a>) or tell me to rework it. If you like it, I would further suggest to fully ditch the <strong><code>Add a member</code></strong> button as it is available in an approachable way within the team's form anyways.</p>\n<p><a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/commit/9c349da8181763d686c33baa4629ea9afb769783\" class=\"commit-link\"><tt>9c349da</tt></a> fixes some minor problems I ran into when bootstrapping the project.</p>", "body_text": "Validation for the teams model to limit the max. number of students to two. Editing and deleting roles, etc. are taken into account, the validation process takes place in memory, not relying on data yet to be persisted.\nace624f adds the validation for the team model.\ndda1f8f adds the classic behavior of firing the team's validations when saving a role, which will add the default Rails error message to the role: Team is invalid. I personally don't like this behavior, as I think it doesn't provide meaningful insights to the user. It rather adds complexity for her to understand what went wrong (\"2 errors prohibited this role from being saved ... Team is invalid\").\nTherefore 50812f9 undos firing the team model's validations when saving a role and instead displays the team's own error message in the role's form, if adding/editing a role does not suit the constraints of the team the role is connected to. As the Add a member button in the team's show view is just a shortcut duplicating the behavior of the normal Edit, the team-context is obvious anyways, so I consider showing the team errors more useful here.\nIf you don't like this approach, you can either just discard the last commit (50812f9) or tell me to rework it. If you like it, I would further suggest to fully ditch the Add a member button as it is available in an approachable way within the team's form anyways.\n9c349da fixes some minor problems I ran into when bootstrapping the project.", "merged": true, "mergeable": null, "rebaseable": null, "mergeable_state": "unknown", "merged_by": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "comments": 4, "review_comments": 0, "maintainer_can_modify": false, "commits": 4, "additions": 77, "deletions": 6, "changed_files": 6}