{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/70697617", "pull_request_review_id": null, "id": 70697617, "diff_hunk": "@@ -45,18 +45,23 @@ def visible\n     end\n \n     # Returns a base scope reflecting the relevant teams depending on what\n-    # phase of the running season we're currently in.\n+    # phase of the running season we're currentin_ly in.\n     def by_season_phase\n       if Time.now.utc > Season.current.acceptance_notification_at\n-        Team.where season: Season.current, kind: %w(sponsored voluntary)\n+        Team.in_current_season.selected\n       else\n-        Team.visible.where season: Season.current\n+        Team.in_current_season.visible\n       end\n     end\n \n-    def active_teams\n-      Team.where(season: Season.current, kind: %w(sponsored voluntary)).order(:name)\n+    def in_current_season", "path": "app/models/team.rb", "position": null, "original_position": 18, "commit_id": "678f9ff2db1ee17b2eb3aa18680143f08ea03698", "original_commit_id": "7dc64bac276c5ecf080bd1ea29adf83196295765", "user": {"login": "F3PiX", "id": 6314687, "avatar_url": "https://avatars1.githubusercontent.com/u/6314687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/F3PiX", "html_url": "https://github.com/F3PiX", "followers_url": "https://api.github.com/users/F3PiX/followers", "following_url": "https://api.github.com/users/F3PiX/following{/other_user}", "gists_url": "https://api.github.com/users/F3PiX/gists{/gist_id}", "starred_url": "https://api.github.com/users/F3PiX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/F3PiX/subscriptions", "organizations_url": "https://api.github.com/users/F3PiX/orgs", "repos_url": "https://api.github.com/users/F3PiX/repos", "events_url": "https://api.github.com/users/F3PiX/events{/privacy}", "received_events_url": "https://api.github.com/users/F3PiX/received_events", "type": "User", "site_admin": false}, "body": "I like it very much! And thanks A LOT for the explanation. \n\nFor the follow-up PR: I checked the factories, I didn't find a factory that uses the season scope of the Team class. The current_season traits all call the class method Season.current. \nYou don't mean that the factory trait should have the Team scope instead, do you? \nAnd we are talking only about renaming current_season to in_current_season? Not current_other_things. \n\nIf I understand it well: just renaming 'current_season' scope in Team class, to in_current_season scope: that is a tiny job, I can do it right away.\nOtherwise, please merge and I will open a new PR and figure it out.  \n", "created_at": "2016-07-13T20:01:17Z", "updated_at": "2016-07-13T20:21:55Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/493#discussion_r70697617", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/493", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/70697617"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/493#discussion_r70697617"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/493"}}, "body_html": "<p>I like it very much! And thanks A LOT for the explanation.</p>\n<p>For the follow-up PR: I checked the factories, I didn't find a factory that uses the season scope of the Team class. The current_season traits all call the class method Season.current.<br>\nYou don't mean that the factory trait should have the Team scope instead, do you?<br>\nAnd we are talking only about renaming current_season to in_current_season? Not current_other_things.</p>\n<p>If I understand it well: just renaming 'current_season' scope in Team class, to in_current_season scope: that is a tiny job, I can do it right away.<br>\nOtherwise, please merge and I will open a new PR and figure it out.</p>", "body_text": "I like it very much! And thanks A LOT for the explanation.\nFor the follow-up PR: I checked the factories, I didn't find a factory that uses the season scope of the Team class. The current_season traits all call the class method Season.current.\nYou don't mean that the factory trait should have the Team scope instead, do you?\nAnd we are talking only about renaming current_season to in_current_season? Not current_other_things.\nIf I understand it well: just renaming 'current_season' scope in Team class, to in_current_season scope: that is a tiny job, I can do it right away.\nOtherwise, please merge and I will open a new PR and figure it out."}