{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/comments/234874184", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/508#issuecomment-234874184", "issue_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/508", "id": 234874184, "user": {"login": "katrin-k", "id": 2246045, "avatar_url": "https://avatars2.githubusercontent.com/u/2246045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katrin-k", "html_url": "https://github.com/katrin-k", "followers_url": "https://api.github.com/users/katrin-k/followers", "following_url": "https://api.github.com/users/katrin-k/following{/other_user}", "gists_url": "https://api.github.com/users/katrin-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/katrin-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katrin-k/subscriptions", "organizations_url": "https://api.github.com/users/katrin-k/orgs", "repos_url": "https://api.github.com/users/katrin-k/repos", "events_url": "https://api.github.com/users/katrin-k/events{/privacy}", "received_events_url": "https://api.github.com/users/katrin-k/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-25T07:57:02Z", "updated_at": "2016-07-25T07:57:02Z", "author_association": "OWNER", "body_html": "<p>Upsi, I just realized I made a mistake in describing the problem. When there's no search param, the link text is displayed without any HTML tags (but it's displayed, which it shouldn't). The link properly renders when a search param is there. <code>params[:search].present?</code> doesn't make a difference.</p>\n<p>What does the trick is defining an else.</p>\n<pre><code>= link_to_if(params[:search].present?, \"Clear search results\", users_path, class: \"btn btn-default\")  do\n a\nend\n</code></pre>\n<p>However, the <code>end</code> is then rendered as HTML tags: <code>&lt;end&gt;&lt;/end&gt;</code>. Removing the <code>end</code> helps in the way that there's only an empty a link tag when there's no search param, but I'll keep it since I have a hunch this is better Ruby syntax and thus can't interfere with anything else.</p>\n<p><a href=\"https://github.com/f3pix\" class=\"user-mention\">@F3PiX</a> I'll also add the <code>params[:search].present?</code> to my commit.</p>", "body_text": "Upsi, I just realized I made a mistake in describing the problem. When there's no search param, the link text is displayed without any HTML tags (but it's displayed, which it shouldn't). The link properly renders when a search param is there. params[:search].present? doesn't make a difference.\nWhat does the trick is defining an else.\n= link_to_if(params[:search].present?, \"Clear search results\", users_path, class: \"btn btn-default\")  do\n a\nend\n\nHowever, the end is then rendered as HTML tags: <end></end>. Removing the end helps in the way that there's only an empty a link tag when there's no search param, but I'll keep it since I have a hunch this is better Ruby syntax and thus can't interfere with anything else.\n@F3PiX I'll also add the params[:search].present? to my commit.", "body": "Upsi, I just realized I made a mistake in describing the problem. When there's no search param, the link text is displayed without any HTML tags (but it's displayed, which it shouldn't). The link properly renders when a search param is there. `params[:search].present?` doesn't make a difference. \n\nWhat does the trick is defining an else. \n\n```\n= link_to_if(params[:search].present?, \"Clear search results\", users_path, class: \"btn btn-default\")  do\n a\nend\n```\n\nHowever, the `end` is then rendered as HTML tags: `<end></end>`. Removing the `end` helps in the way that there's only an empty a link tag when there's no search param, but I'll keep it since I have a hunch this is better Ruby syntax and thus can't interfere with anything else. \n\n@F3PiX I'll also add the `params[:search].present?` to my commit. \n"}