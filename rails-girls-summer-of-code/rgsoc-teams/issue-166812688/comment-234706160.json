{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/comments/234706160", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/509#issuecomment-234706160", "issue_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/509", "id": 234706160, "user": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "created_at": "2016-07-23T08:04:54Z", "updated_at": "2016-07-23T08:04:54Z", "author_association": "OWNER", "body_html": "<p>Morning <a href=\"https://github.com/f3pix\" class=\"user-mention\">@F3PiX</a></p>\n<blockquote>\n<p>I don't understand WHY it works with teams.name.</p>\n</blockquote>\n<p>It works in the controller, because line 16 states <code>with_all_associations_joined</code>. Try firing <code>User.search \"cheesy\"</code> in your rails console to reproduce the error I was expecting in an earlier comment.</p>\n<p>Since <code>User.search</code> is part of the public API of that model and therefore can be called out of the controller context, it should bring its own include/join statements. We should probably have a unit test for the class method as well.</p>", "body_text": "Morning @F3PiX\n\nI don't understand WHY it works with teams.name.\n\nIt works in the controller, because line 16 states with_all_associations_joined. Try firing User.search \"cheesy\" in your rails console to reproduce the error I was expecting in an earlier comment.\nSince User.search is part of the public API of that model and therefore can be called out of the controller context, it should bring its own include/join statements. We should probably have a unit test for the class method as well.", "body": "Morning @F3PiX \n\n>  I don't understand WHY it works with teams.name.\n\nIt works in the controller, because line 16 states `with_all_associations_joined`. Try firing `User.search \"cheesy\"` in your rails console to reproduce the error I was expecting in an earlier comment.\n\nSince `User.search` is part of the public API of that model and therefore can be called out of the controller context, it should bring its own include/join statements. We should probably have a unit test for the class method as well.\n"}