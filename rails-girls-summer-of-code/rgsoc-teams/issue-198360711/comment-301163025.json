{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/comments/301163025", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/585#issuecomment-301163025", "issue_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/585", "id": 301163025, "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "created_at": "2017-05-12T19:17:36Z", "updated_at": "2017-05-12T19:17:36Z", "author_association": "MEMBER", "body_html": "<p>And for the <em>open question</em> <a href=\"https://github.com/f3pix\" class=\"user-mention\">@F3PiX</a>: I actually don't think that the microseconds can become a problem here. To me this looks more like the object has not been written to the DB before (e.g. via <code>let!()</code>). Aside that, if you just want to check weather or not the record has been updated, I'd go with something like this</p>\n<div class=\"highlight highlight-source-ruby\"><pre>expect { <span class=\"pl-c1\">ClassMethod</span>.called }.not_to change { my_object.reload }</pre></div>\n<p>checking an already instantiated object won't show the changes.</p>", "body_text": "And for the open question @F3PiX: I actually don't think that the microseconds can become a problem here. To me this looks more like the object has not been written to the DB before (e.g. via let!()). Aside that, if you just want to check weather or not the record has been updated, I'd go with something like this\nexpect { ClassMethod.called }.not_to change { my_object.reload }\nchecking an already instantiated object won't show the changes.", "body": "And for the _open question_ @F3PiX: I actually don't think that the microseconds can become a problem here. To me this looks more like the object has not been written to the DB before (e.g. via `let!()`). Aside that, if you just want to check weather or not the record has been updated, I'd go with something like this\r\n```ruby\r\nexpect { ClassMethod.called }.not_to change { my_object.reload }\r\n```\r\nchecking an already instantiated object won't show the changes."}