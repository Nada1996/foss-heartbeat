{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/96146592", "pull_request_review_id": 16722376, "id": 96146592, "diff_hunk": "@@ -4,10 +4,32 @@\n context 'when switching phases' do\n   subject { Season.current }\n \n+  describe 'destined' do\n+    it 'sends the params to a phase setting method' do\n+      phase = :fake_application_phase\n+      Season::PhaseSwitcher.destined(phase)\n+      expect(subject).to_not be_nil\n+    end\n+\n+    it 'addresses the requested phase' do\n+      wrong_phase = :fake_proposals_phase\n+      Season::PhaseSwitcher.destined(wrong_phase)\n+      expect(subject).to_not be_application_period\n+    end\n+\n+    it 'fails silently when it receives a non-whitelisted phase' do\n+      phase = :bad_intentions\n+      bad_call = Season::PhaseSwitcher.destined(phase)\n+      expect( bad_call ).to be_nil", "path": "spec/models/season/phase_switcher_spec.rb", "position": null, "original_position": 20, "commit_id": "4c120f41f14b541cf49d9fc05bb70c5382c8ba91", "original_commit_id": "7ca1ce6c356cca23dcbd64920598f5ab76c3a6b8", "user": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "body": "This doesn't test if `.destined` doesn't change things, it merely checks for the _return value_ of that method call. A better way is to make use of `expect { \u2026 }.not_to change { \u2026 }`. A good thing to check for in the `change` block could be `Season.current.updated_at`. ", "created_at": "2017-01-15T20:13:17Z", "updated_at": "2017-05-14T21:21:53Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/585#discussion_r96146592", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/585", "author_association": "OWNER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/96146592"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/585#discussion_r96146592"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/585"}}, "body_html": "<p>This doesn't test if <code>.destined</code> doesn't change things, it merely checks for the <em>return value</em> of that method call. A better way is to make use of <code>expect { \u2026 }.not_to change { \u2026 }</code>. A good thing to check for in the <code>change</code> block could be <code>Season.current.updated_at</code>.</p>", "body_text": "This doesn't test if .destined doesn't change things, it merely checks for the return value of that method call. A better way is to make use of expect { \u2026 }.not_to change { \u2026 }. A good thing to check for in the change block could be Season.current.updated_at."}