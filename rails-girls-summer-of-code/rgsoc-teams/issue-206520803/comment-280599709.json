{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/comments/280599709", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/651#issuecomment-280599709", "issue_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/651", "id": 280599709, "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "created_at": "2017-02-17T09:24:48Z", "updated_at": "2017-02-17T09:53:09Z", "author_association": "MEMBER", "body_html": "<p>Ok, <a href=\"https://github.com/alicetragedy\" class=\"user-mention\">@alicetragedy</a> (cc <a href=\"https://github.com/carpodaster\" class=\"user-mention\">@carpodaster</a> ) I made some experiments <g-emoji class=\"g-emoji\" alias=\"man_scientist\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f468-1f52c.png\">\ud83d\udc68\u200d\ud83d\udd2c</g-emoji>:</p>\n<p>I think you found a <em>\"bug\"</em> in <code>JSON</code> from stdlib Ruby &lt; 2.4.</p>\n<p>This is Ruby <code>2.3.1</code>:</p>\n<pre><code>\u276f pry\n[1] pry(main)&gt; require 'json'\n=&gt; true\n[2] pry(main)&gt; JSON.parse(\"1-3\".to_json)\nJSON::ParserError: 784: unexpected token at '\"1-3\"'\nfrom /Users/mamu/.rbenv/versions/2.3.1/lib/ruby/2.3.0/json/common.rb:156:in `parse'\n[3] pry(main)&gt;\n</code></pre>\n<p>This is Ruby <code>2.4.0</code>:</p>\n<pre><code>\u276f pry\n[1] pry(main)&gt; require 'json'\n=&gt; true\n[2] pry(main)&gt; JSON.parse(\"1-3\".to_json)\n=&gt; \"1-3\"\n[3] pry(main)&gt;\n</code></pre>\n<p>Suggestion: <strong>Let's just switch to 2.4.0</strong> - shouldn't impact anything else.</p>\n<p><em>UPDATE</em><br>\nA colleague of mine says it's already fixed in <code>2.3.3</code>. But I'd still go for straight to 2.4.</p>", "body_text": "Ok, @alicetragedy (cc @carpodaster ) I made some experiments \ud83d\udc68\u200d\ud83d\udd2c:\nI think you found a \"bug\" in JSON from stdlib Ruby < 2.4.\nThis is Ruby 2.3.1:\n\u276f pry\n[1] pry(main)> require 'json'\n=> true\n[2] pry(main)> JSON.parse(\"1-3\".to_json)\nJSON::ParserError: 784: unexpected token at '\"1-3\"'\nfrom /Users/mamu/.rbenv/versions/2.3.1/lib/ruby/2.3.0/json/common.rb:156:in `parse'\n[3] pry(main)>\n\nThis is Ruby 2.4.0:\n\u276f pry\n[1] pry(main)> require 'json'\n=> true\n[2] pry(main)> JSON.parse(\"1-3\".to_json)\n=> \"1-3\"\n[3] pry(main)>\n\nSuggestion: Let's just switch to 2.4.0 - shouldn't impact anything else.\nUPDATE\nA colleague of mine says it's already fixed in 2.3.3. But I'd still go for straight to 2.4.", "body": "Ok, @alicetragedy (cc @carpodaster ) I made some experiments \ud83d\udc68\u200d\ud83d\udd2c:\r\n\r\nI think you found a _\"bug\"_ in `JSON` from stdlib Ruby < 2.4.\r\n\r\nThis is Ruby `2.3.1`:\r\n```\r\n\u276f pry\r\n[1] pry(main)> require 'json'\r\n=> true\r\n[2] pry(main)> JSON.parse(\"1-3\".to_json)\r\nJSON::ParserError: 784: unexpected token at '\"1-3\"'\r\nfrom /Users/mamu/.rbenv/versions/2.3.1/lib/ruby/2.3.0/json/common.rb:156:in `parse'\r\n[3] pry(main)>\r\n```\r\n\r\nThis is Ruby `2.4.0`:\r\n```\r\n\u276f pry\r\n[1] pry(main)> require 'json'\r\n=> true\r\n[2] pry(main)> JSON.parse(\"1-3\".to_json)\r\n=> \"1-3\"\r\n[3] pry(main)>\r\n```\r\n\r\nSuggestion: **Let's just switch to 2.4.0** - shouldn't impact anything else.\r\n\r\n*UPDATE*\r\nA colleague of mine says it's already fixed in `2.3.3`. But I'd still go for straight to 2.4."}