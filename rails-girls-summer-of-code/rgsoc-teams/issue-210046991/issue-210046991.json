{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/669", "repository_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/669/comments", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/669/events", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/669", "id": 210046991, "number": 669, "title": "Bug: data disappeared from the team", "user": {"login": "mkalininait", "id": 1745735, "avatar_url": "https://avatars2.githubusercontent.com/u/1745735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkalininait", "html_url": "https://github.com/mkalininait", "followers_url": "https://api.github.com/users/mkalininait/followers", "following_url": "https://api.github.com/users/mkalininait/following{/other_user}", "gists_url": "https://api.github.com/users/mkalininait/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkalininait/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkalininait/subscriptions", "organizations_url": "https://api.github.com/users/mkalininait/orgs", "repos_url": "https://api.github.com/users/mkalininait/repos", "events_url": "https://api.github.com/users/mkalininait/events{/privacy}", "received_events_url": "https://api.github.com/users/mkalininait/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 43558653, "url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/labels/bug", "name": "bug", "color": "fc2929", "default": true}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-24T13:22:56Z", "updated_at": "2017-02-24T17:59:59Z", "closed_at": null, "author_association": "OWNER", "body_html": "<p>One applicant reported the following problem:</p>\n<p>\"I am applying for RGSoC 2017 and had created my team [team_name] and received confirmation from both my coaches as well. My teammate and I had started filling out our application too, saving drafts periodically.</p>\n<p>However, we are suddenly finding ourselves unable to see any information listed for our team and our application draft is unavailable too. We were able to view and edit all of this information even until a few hours ago.\"</p>\n<hr>\n<p>I investigated this problem.  It looks like all team members were somehow removed from the team at one point.  Because of this, the students lost access to their application. However, the application data persists in the DB.</p>\n<p>I added one of the students back to the team so that she could add the team members again and submit the application. But she reported: \"I tried adding the rest of my team members to my team, as you suggested. I'm getting an error message with error 500\". I had to fix the entire team myself.</p>\n<p>The question is: how did it happen that the data disappeared from the team?</p>\n<p>Here is what I got from the production DB, the Users table:</p>\n<p><a href=\"https://cloud.githubusercontent.com/assets/1745735/23304733/a5ba6386-fa9b-11e6-8a1a-f4423a4cb546.png\" target=\"_blank\"><img src=\"https://cloud.githubusercontent.com/assets/1745735/23304733/a5ba6386-fa9b-11e6-8a1a-f4423a4cb546.png\" alt=\"joxi_screenshot_1487941847332\" style=\"max-width:100%;\"></a></p>\n<p>Ask me for more data.</p>\n<hr>\n<p>Basically, all users were removed from the team in one go, but the roles stayed there.<br>\nI can see three possible scenarios:</p>\n<ol>\n<li>The users have been removed accidentally by someone in the team.</li>\n<li>Someone got unauthorized access to this team and removed the data.</li>\n<li>Something else happened and triggered this bug.</li>\n</ol>\n<p>Can someone look into logs/rollbar?</p>", "body_text": "One applicant reported the following problem:\n\"I am applying for RGSoC 2017 and had created my team [team_name] and received confirmation from both my coaches as well. My teammate and I had started filling out our application too, saving drafts periodically.\nHowever, we are suddenly finding ourselves unable to see any information listed for our team and our application draft is unavailable too. We were able to view and edit all of this information even until a few hours ago.\"\n\nI investigated this problem.  It looks like all team members were somehow removed from the team at one point.  Because of this, the students lost access to their application. However, the application data persists in the DB.\nI added one of the students back to the team so that she could add the team members again and submit the application. But she reported: \"I tried adding the rest of my team members to my team, as you suggested. I'm getting an error message with error 500\". I had to fix the entire team myself.\nThe question is: how did it happen that the data disappeared from the team?\nHere is what I got from the production DB, the Users table:\n\nAsk me for more data.\n\nBasically, all users were removed from the team in one go, but the roles stayed there.\nI can see three possible scenarios:\n\nThe users have been removed accidentally by someone in the team.\nSomeone got unauthorized access to this team and removed the data.\nSomething else happened and triggered this bug.\n\nCan someone look into logs/rollbar?", "body": "One applicant reported the following problem:\r\n\r\n\"I am applying for RGSoC 2017 and had created my team [team_name] and received confirmation from both my coaches as well. My teammate and I had started filling out our application too, saving drafts periodically.\r\n\r\nHowever, we are suddenly finding ourselves unable to see any information listed for our team and our application draft is unavailable too. We were able to view and edit all of this information even until a few hours ago.\"\r\n\r\n----\r\n\r\nI investigated this problem.  It looks like all team members were somehow removed from the team at one point.  Because of this, the students lost access to their application. However, the application data persists in the DB.\r\n\r\nI added one of the students back to the team so that she could add the team members again and submit the application. But she reported: \"I tried adding the rest of my team members to my team, as you suggested. I'm getting an error message with error 500\". I had to fix the entire team myself.\r\n\r\nThe question is: how did it happen that the data disappeared from the team?\r\n\r\nHere is what I got from the production DB, the Users table:\r\n\r\n![joxi_screenshot_1487941847332](https://cloud.githubusercontent.com/assets/1745735/23304733/a5ba6386-fa9b-11e6-8a1a-f4423a4cb546.png)\r\n\r\nAsk me for more data.\r\n\r\n----\r\nBasically, all users were removed from the team in one go, but the roles stayed there. \r\nI can see three possible scenarios:\r\n 1. The users have been removed accidentally by someone in the team. \r\n 1. Someone got unauthorized access to this team and removed the data.\r\n 1. Something else happened and triggered this bug.\r\n\r\nCan someone look into logs/rollbar?\r\n"}