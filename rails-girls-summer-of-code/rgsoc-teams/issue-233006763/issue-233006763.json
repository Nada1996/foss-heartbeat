{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/753", "repository_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/753/labels{/name}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/753/comments", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/753/events", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/753", "id": 233006763, "number": 753, "title": "More 5.1 adjustments", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-01T20:52:05Z", "updated_at": "2017-07-05T19:37:56Z", "closed_at": "2017-06-03T11:04:39Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/753", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/753", "diff_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/753.diff", "patch_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/753.patch"}, "body_html": "<p>This adjusts some of the minor things I did not consider a core part of the <em>pure update</em> in <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/749\" class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"230875372\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/749\">#749</a></p>\n<ol>\n<li>\n<p><strong>Update all dependencies that changed since then</strong><br>\nSince the 5.1 update, some gems had minor updates - since I get notifications from Gemnasium anyways, I just added it to this PR while I'm already on it.</p>\n</li>\n<li>\n<p><strong>Adjust the config files</strong><br>\nI adjusted the config files to better resemble the current state of the art in Rails 5.1. Some options, such as <code>load_defaults</code> of course don't work with our app. I also did not opt into auto-reloading via the <code>listener</code> gem, since I a) only heard bad things about machines running out of processes and b) it would add another dependency to the app <g-emoji class=\"g-emoji\" alias=\"wink\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f609.png\">\ud83d\ude09</g-emoji><br>\nI think it's generally helpful to keep the config files clean and up to date if we consider further maintaining and updating the app. Aside that, I also feel it would be more helpful, especially to beginners, to find up 2 date comments and an up 2 date general structure there - since that's what people currently learning the framework are familiar with <em>(and it's what helps them most to find the respective places in the docs)</em></p>\n</li>\n<li>\n<p><strong>Remove migrations</strong><br>\nAs I explained in <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/752\" class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"231897345\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/752\">#752</a> , I don't see migrations as the <em>\"source of truth\"</em> for the database schema, that's why there's a <code>schema.rb</code> file in version control. And since I don't think we want to rollback migrations forever, it in my opinion should be fine to just remove them. If we want changes, we can still add new migrations...</p>\n</li>\n</ol>\n<p><strong>Note:</strong> I also updated the Puma config. So before this gets deployed to either staging or production, I will set the <code>WEB_CONCURRENCY</code> env var there, in order to have the exact same setup as we are running now (1 worker).</p>", "body_text": "This adjusts some of the minor things I did not consider a core part of the pure update in #749\n\n\nUpdate all dependencies that changed since then\nSince the 5.1 update, some gems had minor updates - since I get notifications from Gemnasium anyways, I just added it to this PR while I'm already on it.\n\n\nAdjust the config files\nI adjusted the config files to better resemble the current state of the art in Rails 5.1. Some options, such as load_defaults of course don't work with our app. I also did not opt into auto-reloading via the listener gem, since I a) only heard bad things about machines running out of processes and b) it would add another dependency to the app \ud83d\ude09\nI think it's generally helpful to keep the config files clean and up to date if we consider further maintaining and updating the app. Aside that, I also feel it would be more helpful, especially to beginners, to find up 2 date comments and an up 2 date general structure there - since that's what people currently learning the framework are familiar with (and it's what helps them most to find the respective places in the docs)\n\n\nRemove migrations\nAs I explained in #752 , I don't see migrations as the \"source of truth\" for the database schema, that's why there's a schema.rb file in version control. And since I don't think we want to rollback migrations forever, it in my opinion should be fine to just remove them. If we want changes, we can still add new migrations...\n\n\nNote: I also updated the Puma config. So before this gets deployed to either staging or production, I will set the WEB_CONCURRENCY env var there, in order to have the exact same setup as we are running now (1 worker).", "body": "This adjusts some of the minor things I did not consider a core part of the *pure update* in #749 \r\n\r\n1. **Update all dependencies that changed since then**\r\n  Since the 5.1 update, some gems had minor updates - since I get notifications from Gemnasium anyways, I just added it to this PR while I'm already on it.\r\n\r\n1. **Adjust the config files**\r\n  I adjusted the config files to better resemble the current state of the art in Rails 5.1. Some options, such as `load_defaults` of course don't work with our app. I also did not opt into auto-reloading via the `listener` gem, since I a) only heard bad things about machines running out of processes and b) it would add another dependency to the app \ud83d\ude09 \r\nI think it's generally helpful to keep the config files clean and up to date if we consider further maintaining and updating the app. Aside that, I also feel it would be more helpful, especially to beginners, to find up 2 date comments and an up 2 date general structure there - since that's what people currently learning the framework are familiar with *(and it's what helps them most to find the respective places in the docs)*\r\n\r\n1. **Remove migrations**\r\n  As I explained in #752 , I don't see migrations as the *\"source of truth\"* for the database schema, that's why there's a `schema.rb` file in version control. And since I don't think we want to rollback migrations forever, it in my opinion should be fine to just remove them. If we want changes, we can still add new migrations...\r\n\r\n\r\n**Note:** I also updated the Puma config. So before this gets deployed to either staging or production, I will set the `WEB_CONCURRENCY` env var there, in order to have the exact same setup as we are running now (1 worker)."}