{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/125185721", "pull_request_review_id": 47552685, "id": 125185721, "diff_hunk": "@@ -1,53 +1,58 @@\n class Orga::ConferencesController < Orga::BaseController\n+  before_action :find_resource, only: [:show, :edit, :update, :destroy]\n \n+  def index\n+    @conferences = conferences\n+  end\n+  \n+  def new\n+    @conference = Conference.new\n+  end\n+  \n   def create\n-    conference.season = current_season\n-    respond_to do |format|\n-      if conference.save\n-        format.html { redirect_to orga_conference_path(conference) }\n-      else\n-        format.html { render action: :new }\n-      end\n+    @conference = Conference.new(conference_params.merge(season: current_season))\n+    if @conference.save\n+     redirect_to orga_conference_path(@conference)\n+    else\n+      render action: :new\n     end\n   end\n-\n+  \n   def update\n-    if conference.update(conference_params)\n-      redirect_to orga_conference_path(conference)\n+    if @conference.update(conference_params)\n+      redirect_to orga_conference_path(@conference)\n     else\n       render action: :edit\n     end\n   end\n \n   def destroy\n-    conference.destroy!\n+    @conference.destroy!\n     redirect_to orga_conferences_path, notice: 'The conference has been deleted.'\n   end\n \n   private\n \n-  def conferences\n-    @conferences ||= Conference.ordered(sort_params).in_current_season\n+  def find_resource\n+    @conference ||= Conference.find(params[:id])", "path": "app/controllers/orga/conferences_controller.rb", "position": null, "original_position": 50, "commit_id": "2c75d2b445cf14fb1186de49ff16cd7add0b0861", "original_commit_id": "2f3beaf2f3348e6b6c402a8d6993e5b0ba5bf626", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "body": "Yes we do, but not in that *\"clever\"* way it was used before with utilizing memorization to spare some lines in the controller code. Now, with doing it more or less explicit (I'm not the hugest fan of before filters...) we can spare the memorization part - the helper method will always just be called once.", "created_at": "2017-07-02T15:16:05Z", "updated_at": "2017-07-02T15:16:05Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/761#discussion_r125185721", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/761", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/125185721"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/761#discussion_r125185721"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/761"}}, "body_html": "<p>Yes we do, but not in that <em>\"clever\"</em> way it was used before with utilizing memorization to spare some lines in the controller code. Now, with doing it more or less explicit (I'm not the hugest fan of before filters...) we can spare the memorization part - the helper method will always just be called once.</p>", "body_text": "Yes we do, but not in that \"clever\" way it was used before with utilizing memorization to spare some lines in the controller code. Now, with doing it more or less explicit (I'm not the hugest fan of before filters...) we can spare the memorization part - the helper method will always just be called once.", "in_reply_to_id": 125182277}