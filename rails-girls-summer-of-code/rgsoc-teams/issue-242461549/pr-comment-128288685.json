{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128288685", "pull_request_review_id": 50954500, "id": 128288685, "diff_hunk": "@@ -13,7 +13,7 @@ def destroy\n   private\n \n     def attendance\n-      current_user.attendances.find(params[:id])\n+      current_user.student_team.attendances.find(params[:id])", "path": "app/controllers/attendances_controller.rb", "position": null, "original_position": 5, "commit_id": "cad397230d5b0992b65449a289754cfe2c92ba23", "original_commit_id": "f05dc9eb358b4388df24f6e66172447ec471b7d4", "user": {"login": "branquinhoaa", "id": 15239141, "avatar_url": "https://avatars0.githubusercontent.com/u/15239141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branquinhoaa", "html_url": "https://github.com/branquinhoaa", "followers_url": "https://api.github.com/users/branquinhoaa/followers", "following_url": "https://api.github.com/users/branquinhoaa/following{/other_user}", "gists_url": "https://api.github.com/users/branquinhoaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/branquinhoaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branquinhoaa/subscriptions", "organizations_url": "https://api.github.com/users/branquinhoaa/orgs", "repos_url": "https://api.github.com/users/branquinhoaa/repos", "events_url": "https://api.github.com/users/branquinhoaa/events{/privacy}", "received_events_url": "https://api.github.com/users/branquinhoaa/received_events", "type": "User", "site_admin": false}, "body": "@klappradla  I saw this controller being used just when a user (now the team) has to confirm her participation in the conference (after choosing the preferences). So, theoretically, just the students from the team should have access to them. The details around this will be developed better in this issue: https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772e.\r\n\r\nWe have included the student_team in the private method attendance because the attendance belongs to the team, not to the user. But this page couldn't be visited by any one who is not a student from that specific team.\r\n\r\nI think that this can change with the issue #772. What do you think?", "created_at": "2017-07-19T15:52:25Z", "updated_at": "2017-07-24T14:01:27Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/789#discussion_r128288685", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/789", "author_association": "COLLABORATOR", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128288685"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/789#discussion_r128288685"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/789"}}, "body_html": "<p><a href=\"https://github.com/klappradla\" class=\"user-mention\">@klappradla</a>  I saw this controller being used just when a user (now the team) has to confirm her participation in the conference (after choosing the preferences). So, theoretically, just the students from the team should have access to them. The details around this will be developed better in this issue: <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772e\">https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772e</a>.</p>\n<p>We have included the student_team in the private method attendance because the attendance belongs to the team, not to the user. But this page couldn't be visited by any one who is not a student from that specific team.</p>\n<p>I think that this can change with the issue <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772\" class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"238317449\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772\">#772</a>. What do you think?</p>", "body_text": "@klappradla  I saw this controller being used just when a user (now the team) has to confirm her participation in the conference (after choosing the preferences). So, theoretically, just the students from the team should have access to them. The details around this will be developed better in this issue: https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/772e.\nWe have included the student_team in the private method attendance because the attendance belongs to the team, not to the user. But this page couldn't be visited by any one who is not a student from that specific team.\nI think that this can change with the issue #772. What do you think?", "in_reply_to_id": 127055568}