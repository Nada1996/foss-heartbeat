{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128508734", "pull_request_review_id": 51194347, "id": 128508734, "diff_hunk": "@@ -25,6 +25,14 @@ def initialize(user)\n       user.admin? or signed_in?(user) && team.new_record? or on_team?(user, team)\n     end\n \n+    can :update_attendances, Team do |team|\n+      user.admin? or (user.student? && (team.students.include? user))\n+    end\n+\n+    can :confirm_attendance, Team do |team|", "path": "app/models/ability.rb", "position": null, "original_position": 8, "commit_id": "cad397230d5b0992b65449a289754cfe2c92ba23", "original_commit_id": "918830a3fa12a6331e2631fc339c209bc82d91df", "user": {"login": "branquinhoaa", "id": 15239141, "avatar_url": "https://avatars0.githubusercontent.com/u/15239141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branquinhoaa", "html_url": "https://github.com/branquinhoaa", "followers_url": "https://api.github.com/users/branquinhoaa/followers", "following_url": "https://api.github.com/users/branquinhoaa/following{/other_user}", "gists_url": "https://api.github.com/users/branquinhoaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/branquinhoaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branquinhoaa/subscriptions", "organizations_url": "https://api.github.com/users/branquinhoaa/orgs", "repos_url": "https://api.github.com/users/branquinhoaa/repos", "events_url": "https://api.github.com/users/branquinhoaa/events{/privacy}", "received_events_url": "https://api.github.com/users/branquinhoaa/received_events", "type": "User", "site_admin": false}, "body": "This ability is to check if a team can confirm its attendance, not its preference: \r\n![attend](https://user-images.githubusercontent.com/15239141/28418633-c1311178-6d32-11e7-8ee5-30aa135e901e.png)\r\nWe check the ability to confirm attendance in the teams show view. When some user access the show team page, we check if the user can confirm attendance. If it can, we show these links.", "created_at": "2017-07-20T13:06:19Z", "updated_at": "2017-07-24T14:01:27Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/789#discussion_r128508734", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/789", "author_association": "COLLABORATOR", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128508734"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/789#discussion_r128508734"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/789"}}, "body_html": "<p>This ability is to check if a team can confirm its attendance, not its preference:<br>\n<a href=\"https://user-images.githubusercontent.com/15239141/28418633-c1311178-6d32-11e7-8ee5-30aa135e901e.png\" target=\"_blank\"><img src=\"https://user-images.githubusercontent.com/15239141/28418633-c1311178-6d32-11e7-8ee5-30aa135e901e.png\" alt=\"attend\" style=\"max-width:100%;\"></a><br>\nWe check the ability to confirm attendance in the teams show view. When some user access the show team page, we check if the user can confirm attendance. If it can, we show these links.</p>", "body_text": "This ability is to check if a team can confirm its attendance, not its preference:\n\nWe check the ability to confirm attendance in the teams show view. When some user access the show team page, we check if the user can confirm attendance. If it can, we show these links.", "in_reply_to_id": 128507085}