{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/129421789", "pull_request_review_id": 52193318, "id": 129421789, "diff_hunk": "@@ -1,59 +1,17 @@\n class MailingsController < ApplicationController\n-  before_action :normalize_params, only: [:create, :update]\n-  before_action :set_mailings, only: :index\n-  before_action :set_mailing, except: :index\n \n   load_and_authorize_resource", "path": "app/controllers/mailings_controller.rb", "position": null, "original_position": 6, "commit_id": "8e49daae69dbe407ce17a05569373a8d725a55fc", "original_commit_id": "16bac6d6c0c2e6420bd311b4f9413f93686d173c", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "body": "`load_and_authorize_resource` under the hood adds some magic before-hooks that initialize and authorize an instance variable for **EVERY** action in the controller. Therefore, if you want a \"special\" behavior in some action, it's better to disable it for these specific ones. Otherwise you end up with one unnecessary call to the database.\r\n\r\nSo in your case it should probably be\r\n```ruby\r\nload_and_authorize_resource, except: [:index]\r\n```", "created_at": "2017-07-25T20:50:36Z", "updated_at": "2017-07-26T08:11:10Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/793#discussion_r129421789", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/793", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/129421789"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/793#discussion_r129421789"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/793"}}, "body_html": "<p><code>load_and_authorize_resource</code> under the hood adds some magic before-hooks that initialize and authorize an instance variable for <strong>EVERY</strong> action in the controller. Therefore, if you want a \"special\" behavior in some action, it's better to disable it for these specific ones. Otherwise you end up with one unnecessary call to the database.</p>\n<p>So in your case it should probably be</p>\n<div class=\"highlight highlight-source-ruby\"><pre>load_and_authorize_resource, <span class=\"pl-c1\">except:</span> [<span class=\"pl-c1\">:index</span>]</pre></div>", "body_text": "load_and_authorize_resource under the hood adds some magic before-hooks that initialize and authorize an instance variable for EVERY action in the controller. Therefore, if you want a \"special\" behavior in some action, it's better to disable it for these specific ones. Otherwise you end up with one unnecessary call to the database.\nSo in your case it should probably be\nload_and_authorize_resource, except: [:index]"}