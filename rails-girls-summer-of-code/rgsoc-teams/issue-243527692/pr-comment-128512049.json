{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128512049", "pull_request_review_id": 51198170, "id": 128512049, "diff_hunk": "@@ -74,6 +74,7 @@ def set_users\n \n     def team_params\n       params[:team].fetch(:sources_attributes, {}).delete_if { |key, source| source[:url].empty? }\n+      params[:team].fetch(:roles_attributes, {}).delete_if { |key, role| role.present? && role[:github_handle].empty? }", "path": "app/controllers/teams_controller.rb", "position": null, "original_position": 4, "commit_id": "7a0128e9cd3658bc29e38890d6c5fa317fbaddb4", "original_commit_id": "9b9a3872bcc8cf1d3f2578c243ee6fc24e39aa29", "user": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "body": "I'm not really sure what this line and the one above do. That is, I don't know if `#fetch` returns a _copy_ of the nested hash or the actual instance. Depending on what object it returns, deleting keys from it probably doesn't do anything.\r\n\r\nIn any event, I would remove the line again. The problem (or well: at least _one_ of the problems \ud83d\ude09 ) should be solved by your change in the github_handle concern.", "created_at": "2017-07-20T13:21:16Z", "updated_at": "2017-08-08T15:13:20Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/796#discussion_r128512049", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/796", "author_association": "OWNER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/128512049"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/796#discussion_r128512049"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/796"}}, "body_html": "<p>I'm not really sure what this line and the one above do. That is, I don't know if <code>#fetch</code> returns a <em>copy</em> of the nested hash or the actual instance. Depending on what object it returns, deleting keys from it probably doesn't do anything.</p>\n<p>In any event, I would remove the line again. The problem (or well: at least <em>one</em> of the problems <g-emoji class=\"g-emoji\" alias=\"wink\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f609.png\">\ud83d\ude09</g-emoji> ) should be solved by your change in the github_handle concern.</p>", "body_text": "I'm not really sure what this line and the one above do. That is, I don't know if #fetch returns a copy of the nested hash or the actual instance. Depending on what object it returns, deleting keys from it probably doesn't do anything.\nIn any event, I would remove the line again. The problem (or well: at least one of the problems \ud83d\ude09 ) should be solved by your change in the github_handle concern."}