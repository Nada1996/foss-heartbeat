{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/823", "repository_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/823/comments", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/823/events", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/823", "id": 250752469, "number": 823, "title": "Test ConferencePreference scopes and ConferencePreferences exporter", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 43558655, "url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true}], "state": "closed", "locked": false, "assignee": {"login": "branquinhoaa", "id": 15239141, "avatar_url": "https://avatars0.githubusercontent.com/u/15239141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branquinhoaa", "html_url": "https://github.com/branquinhoaa", "followers_url": "https://api.github.com/users/branquinhoaa/followers", "following_url": "https://api.github.com/users/branquinhoaa/following{/other_user}", "gists_url": "https://api.github.com/users/branquinhoaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/branquinhoaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branquinhoaa/subscriptions", "organizations_url": "https://api.github.com/users/branquinhoaa/orgs", "repos_url": "https://api.github.com/users/branquinhoaa/repos", "events_url": "https://api.github.com/users/branquinhoaa/events{/privacy}", "received_events_url": "https://api.github.com/users/branquinhoaa/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "branquinhoaa", "id": 15239141, "avatar_url": "https://avatars0.githubusercontent.com/u/15239141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branquinhoaa", "html_url": "https://github.com/branquinhoaa", "followers_url": "https://api.github.com/users/branquinhoaa/followers", "following_url": "https://api.github.com/users/branquinhoaa/following{/other_user}", "gists_url": "https://api.github.com/users/branquinhoaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/branquinhoaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branquinhoaa/subscriptions", "organizations_url": "https://api.github.com/users/branquinhoaa/orgs", "repos_url": "https://api.github.com/users/branquinhoaa/repos", "events_url": "https://api.github.com/users/branquinhoaa/events{/privacy}", "received_events_url": "https://api.github.com/users/branquinhoaa/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/milestones/12", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/milestone/12", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/milestones/12/labels", "id": 2626268, "number": 12, "title": "Conferences 2017", "description": "", "creator": {"login": "mkalininait", "id": 1745735, "avatar_url": "https://avatars2.githubusercontent.com/u/1745735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkalininait", "html_url": "https://github.com/mkalininait", "followers_url": "https://api.github.com/users/mkalininait/followers", "following_url": "https://api.github.com/users/mkalininait/following{/other_user}", "gists_url": "https://api.github.com/users/mkalininait/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkalininait/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkalininait/subscriptions", "organizations_url": "https://api.github.com/users/mkalininait/orgs", "repos_url": "https://api.github.com/users/mkalininait/repos", "events_url": "https://api.github.com/users/mkalininait/events{/privacy}", "received_events_url": "https://api.github.com/users/mkalininait/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 15, "state": "open", "created_at": "2017-07-06T20:39:47Z", "updated_at": "2017-10-10T21:54:01Z", "due_on": "2017-07-16T07:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2017-08-16T20:38:35Z", "updated_at": "2017-08-31T15:52:31Z", "closed_at": "2017-08-31T15:52:31Z", "author_association": "MEMBER", "body_html": "<p>As said in <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/813\" class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"249032337\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/813\">#813</a>, it would be nice to have a dedicated test for the <code>current_teams</code> scope in the <code>ConferencePreference</code> model specs. If that is properly tested, we can rely on this contract with the conference_preference exporter. This means: we stub out this method and make the test there less heavy on the database. It is enough for us to know <strong>that <code>current_teams</code> get's called</strong>, the internals of this method are tested elsewhere (in the model specs).</p>\n<p>So, try to define what the actual behavior of the exporter is, and then test this, potentially stubbing out the internals of other parts of the system that are already tested elsewhere.</p>", "body_text": "As said in #813, it would be nice to have a dedicated test for the current_teams scope in the ConferencePreference model specs. If that is properly tested, we can rely on this contract with the conference_preference exporter. This means: we stub out this method and make the test there less heavy on the database. It is enough for us to know that current_teams get's called, the internals of this method are tested elsewhere (in the model specs).\nSo, try to define what the actual behavior of the exporter is, and then test this, potentially stubbing out the internals of other parts of the system that are already tested elsewhere.", "body": "As said in #813, it would be nice to have a dedicated test for the `current_teams` scope in the `ConferencePreference` model specs. If that is properly tested, we can rely on this contract with the conference_preference exporter. This means: we stub out this method and make the test there less heavy on the database. It is enough for us to know **that `current_teams` get's called**, the internals of this method are tested elsewhere (in the model specs).\r\n\r\nSo, try to define what the actual behavior of the exporter is, and then test this, potentially stubbing out the internals of other parts of the system that are already tested elsewhere."}