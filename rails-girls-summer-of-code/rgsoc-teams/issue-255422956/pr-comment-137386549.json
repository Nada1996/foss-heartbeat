{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/137386549", "pull_request_review_id": 61043457, "id": 137386549, "diff_hunk": "@@ -0,0 +1,10 @@\n+class Orga::CommunityController < Orga::BaseController\n+ \n+  def reset_user_availability\n+    if User::AvailabilitySwitcher.reset\n+      redirect_to orga_users_info_path, flash: { notice: 'Coaches were reset with success.' }", "path": "app/controllers/orga/community_controller.rb", "position": null, "original_position": 5, "commit_id": "7ab5660dee1a41c4bd1a198dfa36f77cee647fe8", "original_commit_id": "f8e50a71f81ebb4d7cb2054dc3ddd3fbbeaa1bfe", "user": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "body": "I always try to reduce multiple exits to a single statement at the end of a method/function (unless it's a [guard clause](https://devblast.com/b/what-are-guard-clauses) in its first line). The `redirect_to` acts as a method exit in a controller. You could use the conditional branches to set the `flash[key]` messages and then redirect to `orga_users_info_path` without giving a flash kwarg _after_ the conditional block.", "created_at": "2017-09-06T20:51:33Z", "updated_at": "2017-12-02T17:39:26Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/849#discussion_r137386549", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/849", "author_association": "OWNER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/137386549"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/849#discussion_r137386549"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/849"}}, "body_html": "<p>I always try to reduce multiple exits to a single statement at the end of a method/function (unless it's a <a href=\"https://devblast.com/b/what-are-guard-clauses\" rel=\"nofollow\">guard clause</a> in its first line). The <code>redirect_to</code> acts as a method exit in a controller. You could use the conditional branches to set the <code>flash[key]</code> messages and then redirect to <code>orga_users_info_path</code> without giving a flash kwarg <em>after</em> the conditional block.</p>", "body_text": "I always try to reduce multiple exits to a single statement at the end of a method/function (unless it's a guard clause in its first line). The redirect_to acts as a method exit in a controller. You could use the conditional branches to set the flash[key] messages and then redirect to orga_users_info_path without giving a flash kwarg after the conditional block."}