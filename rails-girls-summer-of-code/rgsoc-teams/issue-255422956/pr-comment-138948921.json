{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/138948921", "pull_request_review_id": 62814573, "id": 138948921, "diff_hunk": "@@ -7,6 +7,29 @@ $(function () {\n      $('.form-group.user_company_info').toggle(this.checked);\n   }).change(); //ensure visible state matches initially\n \n+\n+   //update coach availability\n+\n+   $(function () {\n+      var $update_availability = $('[data-behavior=\"update_availability\"]');\n+      $update_availability.on('click',function(){\n+        var url = \"/users/current/update_availability\";", "path": "app/assets/javascripts/user_form.js", "position": null, "original_position": 10, "commit_id": "7ab5660dee1a41c4bd1a198dfa36f77cee647fe8", "original_commit_id": "94226cf523b0212463a5c07921d5413f51bb8f14", "user": {"login": "michaelem", "id": 182228, "avatar_url": "https://avatars3.githubusercontent.com/u/182228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelem", "html_url": "https://github.com/michaelem", "followers_url": "https://api.github.com/users/michaelem/followers", "following_url": "https://api.github.com/users/michaelem/following{/other_user}", "gists_url": "https://api.github.com/users/michaelem/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelem/subscriptions", "organizations_url": "https://api.github.com/users/michaelem/orgs", "repos_url": "https://api.github.com/users/michaelem/repos", "events_url": "https://api.github.com/users/michaelem/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelem/received_events", "type": "User", "site_admin": false}, "body": "I think hardcoding routes in javascript is somewhat of an issue since it can lead to javascript breaking when those routes changes. This is especially troublesome if these things are not covered by system tests since they then will fail in production. I think the right way to pass the url in this case would probably be to have to url in an additional data field in the element that has the data-behaviour field.", "created_at": "2017-09-14T16:45:56Z", "updated_at": "2017-12-02T17:39:26Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/849#discussion_r138948921", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/849", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/138948921"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/849#discussion_r138948921"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/849"}}, "body_html": "<p>I think hardcoding routes in javascript is somewhat of an issue since it can lead to javascript breaking when those routes changes. This is especially troublesome if these things are not covered by system tests since they then will fail in production. I think the right way to pass the url in this case would probably be to have to url in an additional data field in the element that has the data-behaviour field.</p>", "body_text": "I think hardcoding routes in javascript is somewhat of an issue since it can lead to javascript breaking when those routes changes. This is especially troublesome if these things are not covered by system tests since they then will fail in production. I think the right way to pass the url in this case would probably be to have to url in an additional data field in the element that has the data-behaviour field."}