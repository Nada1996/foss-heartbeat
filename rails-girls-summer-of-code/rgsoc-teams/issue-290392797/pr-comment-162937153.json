{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/162937153", "pull_request_review_id": 90471388, "id": 162937153, "diff_hunk": "@@ -184,11 +185,21 @@ def disallow_duplicate_members\n   end\n \n   def limit_number_of_students\n-    students = roles.select{|r| r.name == 'student' && !r.marked_for_destruction?}\n+    students = members_with_role 'student'\n     return unless students.size > 2\n     errors.add(:roles, 'there cannot be more than 2 students on a team.')\n   end\n \n+  def limit_number_of_coaches\n+    coaches = members_with_role 'coach'\n+    return unless coaches.size > 4\n+    errors.add(:roles, 'there cannot be more than 4 coaches on a team.')", "path": "app/models/team.rb", "position": null, "original_position": 21, "commit_id": "1d92cb3cb1538663d2f763f8f55523e82637603d", "original_commit_id": "520e8b6907220b0c447f67f65a9814c6a3d1e011", "user": {"login": "ramonh", "id": 656318, "avatar_url": "https://avatars1.githubusercontent.com/u/656318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramonh", "html_url": "https://github.com/ramonh", "followers_url": "https://api.github.com/users/ramonh/followers", "following_url": "https://api.github.com/users/ramonh/following{/other_user}", "gists_url": "https://api.github.com/users/ramonh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramonh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramonh/subscriptions", "organizations_url": "https://api.github.com/users/ramonh/orgs", "repos_url": "https://api.github.com/users/ramonh/repos", "events_url": "https://api.github.com/users/ramonh/events{/privacy}", "received_events_url": "https://api.github.com/users/ramonh/received_events", "type": "User", "site_admin": false}, "body": "Hey @F3PiX, I've added the localisation as discussed. \r\n\r\nI've left it out for the student limit error, as I'm not sure it makes sense to add it to this PR. \r\n\r\nWhat do you think?", "created_at": "2018-01-22T13:35:12Z", "updated_at": "2018-01-25T09:17:00Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/913#discussion_r162937153", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/913", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/162937153"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/913#discussion_r162937153"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/913"}}, "body_html": "<p>Hey <a href=\"https://github.com/f3pix\" class=\"user-mention\">@F3PiX</a>, I've added the localisation as discussed.</p>\n<p>I've left it out for the student limit error, as I'm not sure it makes sense to add it to this PR.</p>\n<p>What do you think?</p>", "body_text": "Hey @F3PiX, I've added the localisation as discussed.\nI've left it out for the student limit error, as I'm not sure it makes sense to add it to this PR.\nWhat do you think?", "in_reply_to_id": 162892270}