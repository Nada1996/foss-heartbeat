{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/917", "repository_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/917/labels{/name}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/917/comments", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/917/events", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/917", "id": 292232364, "number": 917, "title": "[#765] [feature request] send copy of application to applicants after submission", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-28T19:47:22Z", "updated_at": "2018-01-31T15:56:04Z", "closed_at": "2018-01-29T18:05:26Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/917", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/917", "diff_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/917.diff", "patch_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/917.patch"}, "body_html": "<p>This is supposed to fix <a href=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/765\" class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"238123221\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/765\">#765</a>: sending an email with the contents of the just submitted application to the two students of a team.</p>\n<p><em><strong>edit:</strong> this is still missing the logic to show the submitted application within the app as well.</em></p>\n<p>I added a multipart email that looks aprox. like this when rendered as <code>html</code>: <g-emoji class=\"g-emoji\" alias=\"cd\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f4bf.png\">\ud83d\udcbf</g-emoji><br>\n<a href=\"https://user-images.githubusercontent.com/3491815/35486254-901927e4-046b-11e8-82d6-58e5008e4471.png\" target=\"_blank\"><img width=\"952\" alt=\"screen shot 2018-01-28 at 17 42 14\" src=\"https://user-images.githubusercontent.com/3491815/35486254-901927e4-046b-11e8-82d6-58e5008e4471.png\" style=\"max-width:100%;\"></a></p>\n<p>And approx. like this when rendered as <code>text</code>: <g-emoji class=\"g-emoji\" alias=\"no_mobile_phones\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f4f5.png\">\ud83d\udcf5</g-emoji><br>\n<a href=\"https://user-images.githubusercontent.com/3491815/35486263-b39e3ede-046b-11e8-90a8-46ffacdfb282.png\" target=\"_blank\"><img width=\"952\" alt=\"screen shot 2018-01-28 at 19 38 00\" src=\"https://user-images.githubusercontent.com/3491815/35486263-b39e3ede-046b-11e8-90a8-46ffacdfb282.png\" style=\"max-width:100%;\"></a></p>\n<p><strong>Sidenote</strong><br>\nI know there should be something like <code>formats: [:html]</code> available for rendering partials from Rails views, but I somehow always (at least in the mailer tests) ended up with a mashup of both emails when naming the partials identically. So I for now just appended a <code>_text</code> to the text ones... May find a better solution to this at some point.</p>\n<p>I also had to add some translations to the application draft form - otherwise it would basically be impossible to keep the form and the mail templates in sync <g-emoji class=\"g-emoji\" alias=\"see_no_evil\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f648.png\">\ud83d\ude48</g-emoji><br>\nWhile coming across it, I also removed a legacy intializer for <code>suckerpunch</code>.</p>\n<p>I came across some places where one could refactor a bit of \"cruft\", but I'll do this in follow up PRs, am very tight on time at the moment <g-emoji class=\"g-emoji\" alias=\"crying_cat_face\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f63f.png\">\ud83d\ude3f</g-emoji></p>", "body_text": "This is supposed to fix #765: sending an email with the contents of the just submitted application to the two students of a team.\nedit: this is still missing the logic to show the submitted application within the app as well.\nI added a multipart email that looks aprox. like this when rendered as html: \ud83d\udcbf\n\nAnd approx. like this when rendered as text: \ud83d\udcf5\n\nSidenote\nI know there should be something like formats: [:html] available for rendering partials from Rails views, but I somehow always (at least in the mailer tests) ended up with a mashup of both emails when naming the partials identically. So I for now just appended a _text to the text ones... May find a better solution to this at some point.\nI also had to add some translations to the application draft form - otherwise it would basically be impossible to keep the form and the mail templates in sync \ud83d\ude48\nWhile coming across it, I also removed a legacy intializer for suckerpunch.\nI came across some places where one could refactor a bit of \"cruft\", but I'll do this in follow up PRs, am very tight on time at the moment \ud83d\ude3f", "body": "This is supposed to fix https://github.com/rails-girls-summer-of-code/rgsoc-teams/issues/765: sending an email with the contents of the just submitted application to the two students of a team.\r\n\r\n***edit:** this is still missing the logic to show the submitted application within the app as well.*\r\n\r\nI added a multipart email that looks aprox. like this when rendered as `html`: \ud83d\udcbf \r\n<img width=\"952\" alt=\"screen shot 2018-01-28 at 17 42 14\" src=\"https://user-images.githubusercontent.com/3491815/35486254-901927e4-046b-11e8-82d6-58e5008e4471.png\">\r\n\r\nAnd approx. like this when rendered as `text`: \ud83d\udcf5 \r\n<img width=\"952\" alt=\"screen shot 2018-01-28 at 19 38 00\" src=\"https://user-images.githubusercontent.com/3491815/35486263-b39e3ede-046b-11e8-90a8-46ffacdfb282.png\">\r\n\r\n**Sidenote**\r\nI know there should be something like `formats: [:html]` available for rendering partials from Rails views, but I somehow always (at least in the mailer tests) ended up with a mashup of both emails when naming the partials identically. So I for now just appended a `_text` to the text ones... May find a better solution to this at some point.\r\n\r\nI also had to add some translations to the application draft form - otherwise it would basically be impossible to keep the form and the mail templates in sync \ud83d\ude48 \r\nWhile coming across it, I also removed a legacy intializer for `suckerpunch`. \r\n\r\nI came across some places where one could refactor a bit of \"cruft\", but I'll do this in follow up PRs, am very tight on time at the moment \ud83d\ude3f \r\n"}