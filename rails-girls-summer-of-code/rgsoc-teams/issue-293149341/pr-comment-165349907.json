{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/165349907", "pull_request_review_id": 93268043, "id": 165349907, "diff_hunk": "@@ -0,0 +1,19 @@\n+class CreateWorkSchedules < ActiveRecord::Migration[5.1]\n+  def change\n+    create_table :work_schedules do |t|\n+      t.string :label\n+      t.string :human_readable_label\n+      t.timestamps\n+    end\n+\n+    create_table :application_draft_work_schedules do |t|\n+      t.belongs_to :application_draft, index: true\n+      t.belongs_to :work_schedule, index: true\n+      t.timestamps\n+    end\n+\n+    timestamp = Time.now.strftime(\"%Y-%m-%d %H:%M:%S\")\n+    connection.execute(\"INSERT INTO work_schedules (label, human_readable_label, created_at, updated_at) VALUES ('full_time', 'Full-time (40 hours per week)', '#{timestamp}', '#{timestamp}');\")", "path": "db/migrate/20180129133617_create_work_schedules.rb", "position": null, "original_position": 16, "commit_id": "f0f7d7437d5da19545f490e030cc71a9c0920938", "original_commit_id": "68f5e98e7a7bc890aa7464199b12bda7dde2e119", "user": {"login": "klappradla", "id": 3491815, "avatar_url": "https://avatars3.githubusercontent.com/u/3491815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klappradla", "html_url": "https://github.com/klappradla", "followers_url": "https://api.github.com/users/klappradla/followers", "following_url": "https://api.github.com/users/klappradla/following{/other_user}", "gists_url": "https://api.github.com/users/klappradla/gists{/gist_id}", "starred_url": "https://api.github.com/users/klappradla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klappradla/subscriptions", "organizations_url": "https://api.github.com/users/klappradla/orgs", "repos_url": "https://api.github.com/users/klappradla/repos", "events_url": "https://api.github.com/users/klappradla/events{/privacy}", "received_events_url": "https://api.github.com/users/klappradla/received_events", "type": "User", "site_admin": false}, "body": "Having this code inside the `change` method makes the migration no longer reversible....\r\n\r\nYou could in theory wrap it in something like this:\r\n```ruby\r\nreversible do |dir|\r\n      dir.up do\r\n        # code\r\n```\r\n_(written outta my head, not tested)_", "created_at": "2018-02-01T13:07:56Z", "updated_at": "2018-02-01T22:05:56Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/923#discussion_r165349907", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/923", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/165349907"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/923#discussion_r165349907"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/923"}}, "body_html": "<p>Having this code inside the <code>change</code> method makes the migration no longer reversible....</p>\n<p>You could in theory wrap it in something like this:</p>\n<div class=\"highlight highlight-source-ruby\"><pre>reversible <span class=\"pl-k\">do</span> |<span class=\"pl-smi\">dir</span>|\n      dir.up <span class=\"pl-k\">do</span>\n        <span class=\"pl-c\"><span class=\"pl-c\">#</span> code</span></pre></div>\n<p><em>(written outta my head, not tested)</em></p>", "body_text": "Having this code inside the change method makes the migration no longer reversible....\nYou could in theory wrap it in something like this:\nreversible do |dir|\n      dir.up do\n        # code\n(written outta my head, not tested)"}