{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/172911936", "pull_request_review_id": 101979400, "id": 172911936, "diff_hunk": "@@ -0,0 +1,24 @@\n+# frozen_string_literal: true\n+\n+class ProjectMaintenance < ApplicationRecord\n+  belongs_to :project\n+  belongs_to :user\n+\n+  validates :project, :user, presence: true\n+  validates :project_id, uniqueness: { scope: :user_id }\n+\n+  before_create :assign_position\n+\n+  default_scope -> { order(:position) }\n+\n+  private\n+\n+  # Add new project maintainers to the end of the list\n+  def assign_position\n+    self.position = if prio = self.class.where(project_id: project_id).maximum(:position)\n+                      prio + 1\n+                    else\n+                      0\n+                    end\n+  end", "path": "app/models/project_maintenance.rb", "position": null, "original_position": 23, "commit_id": "4bf38fa158c17f317dfe22ec417b7da4fe3d03d3", "original_commit_id": "7cec36539acbb8e090a20e4cb6b83f1d9971fe61", "user": {"login": "F3PiX", "id": 6314687, "avatar_url": "https://avatars1.githubusercontent.com/u/6314687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/F3PiX", "html_url": "https://github.com/F3PiX", "followers_url": "https://api.github.com/users/F3PiX/followers", "following_url": "https://api.github.com/users/F3PiX/following{/other_user}", "gists_url": "https://api.github.com/users/F3PiX/gists{/gist_id}", "starred_url": "https://api.github.com/users/F3PiX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/F3PiX/subscriptions", "organizations_url": "https://api.github.com/users/F3PiX/orgs", "repos_url": "https://api.github.com/users/F3PiX/repos", "events_url": "https://api.github.com/users/F3PiX/events{/privacy}", "received_events_url": "https://api.github.com/users/F3PiX/received_events", "type": "User", "site_admin": false}, "body": "I find this hard to understand. \r\nAs I understand it, the submitter is always at [0], because it is the first maintainer added (on creating the project]\r\nThen, if you push other maintainers to `project.maintainers`, they will be added after the submitter. But obviously, that doesn't accomplish what the comment says you want. \ud83d\ude15  \r\n \r\nI am thinking of all kind of reasons why; I won't list them here ;-) but let's bring it down to: Is there maybe an easier (to read) way of accomplishing this?\r\nOr even just add an extra comment?\r\n(sorry)", "created_at": "2018-03-07T16:59:35Z", "updated_at": "2018-03-08T14:17:57Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/964#discussion_r172911936", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/964", "author_association": "MEMBER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/172911936"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/964#discussion_r172911936"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/964"}}, "body_html": "<p>I find this hard to understand.<br>\nAs I understand it, the submitter is always at [0], because it is the first maintainer added (on creating the project]<br>\nThen, if you push other maintainers to <code>project.maintainers</code>, they will be added after the submitter. But obviously, that doesn't accomplish what the comment says you want. <g-emoji class=\"g-emoji\" alias=\"confused\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f615.png\">\ud83d\ude15</g-emoji></p>\n<p>I am thinking of all kind of reasons why; I won't list them here ;-) but let's bring it down to: Is there maybe an easier (to read) way of accomplishing this?<br>\nOr even just add an extra comment?<br>\n(sorry)</p>", "body_text": "I find this hard to understand.\nAs I understand it, the submitter is always at [0], because it is the first maintainer added (on creating the project]\nThen, if you push other maintainers to project.maintainers, they will be added after the submitter. But obviously, that doesn't accomplish what the comment says you want. \ud83d\ude15\nI am thinking of all kind of reasons why; I won't list them here ;-) but let's bring it down to: Is there maybe an easier (to read) way of accomplishing this?\nOr even just add an extra comment?\n(sorry)"}