{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/171", "repository_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams", "labels_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/171/comments", "events_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/issues/171/events", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/171", "id": 63979961, "number": 171, "title": "[RFC] Use a state machine to manage ApplicationDraft states", "user": {"login": "cypher", "id": 978, "avatar_url": "https://avatars2.githubusercontent.com/u/978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cypher", "html_url": "https://github.com/cypher", "followers_url": "https://api.github.com/users/cypher/followers", "following_url": "https://api.github.com/users/cypher/following{/other_user}", "gists_url": "https://api.github.com/users/cypher/gists{/gist_id}", "starred_url": "https://api.github.com/users/cypher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cypher/subscriptions", "organizations_url": "https://api.github.com/users/cypher/orgs", "repos_url": "https://api.github.com/users/cypher/repos", "events_url": "https://api.github.com/users/cypher/events{/privacy}", "received_events_url": "https://api.github.com/users/cypher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-24T12:04:51Z", "updated_at": "2015-03-27T15:59:15Z", "closed_at": "2015-03-27T12:51:53Z", "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/171", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/171", "diff_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/171.diff", "patch_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/171.patch"}, "body_html": "<p>Previously, the state of an ApplicationDraft was controlled by setting<br>\n<code>*_by</code> attributes. While this works as long as there is a small number<br>\nof states, this gets complicated quickly if the possible states<br>\nincreases, as well as managing transitions between states.</p>\n<p>When an ApplicationDraft transitions from the 'draft' state to the<br>\n'applied' state by calling <code>submit_application</code>, it sets the<br>\n<code>applied_at</code> column to either a supplied DateTime, or the current<br>\nDateTime.</p>\n<p>Missing/ToDo: The <code>ready?</code> method seems to be intended as a<br>\nguard to make sure an ApplicationDraft is ready to be submitted,<br>\nbut it currently always returns false, and so it can't be used as a<br>\ntransition guard.</p>", "body_text": "Previously, the state of an ApplicationDraft was controlled by setting\n*_by attributes. While this works as long as there is a small number\nof states, this gets complicated quickly if the possible states\nincreases, as well as managing transitions between states.\nWhen an ApplicationDraft transitions from the 'draft' state to the\n'applied' state by calling submit_application, it sets the\napplied_at column to either a supplied DateTime, or the current\nDateTime.\nMissing/ToDo: The ready? method seems to be intended as a\nguard to make sure an ApplicationDraft is ready to be submitted,\nbut it currently always returns false, and so it can't be used as a\ntransition guard.", "body": "Previously, the state of an ApplicationDraft was controlled by setting\n`*_by` attributes. While this works as long as there is a small number\nof states, this gets complicated quickly if the possible states\nincreases, as well as managing transitions between states.\n\nWhen an ApplicationDraft transitions from the 'draft' state to the\n'applied' state by calling `submit_application`, it sets the\n`applied_at` column to either a supplied DateTime, or the current\nDateTime.\n\nMissing/ToDo: The `ready?` method seems to be intended as a\nguard to make sure an ApplicationDraft is ready to be submitted,\nbut it currently always returns false, and so it can't be used as a\ntransition guard.\n"}