{"url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/28642765", "pull_request_review_id": null, "id": 28642765, "diff_hunk": "@@ -18,6 +18,44 @@ class Application < ActiveRecord::Base\n   scope :hidden, -> { where('applications.hidden IS NOT NULL and applications.hidden = ?', true) }\n   scope :visible, -> { where('applications.hidden IS NULL or applications.hidden = ?', false) }\n \n+  APPLICATION_DATA_LABELS = {\n+        project_url: 'Project URL',\n+        coaches_hours_per_week: \"Coaches' Hours-per-Week\",\n+        coaches_why_team_successful: \"Coaches' Success-Statement\",\n+        student0_application_about: 'Background (1st student)',\n+        student0_application_motivation: 'Motivation (1st student)',\n+        student0_application_gender_identification: 'Gender Self-Identification (1st student)',\n+        student0_application_coding_level: 'Skill Level (1st student)',\n+        student0_application_community_engagement: 'Rails Girls / Community Involvement (1st student)',\n+        student0_application_learning_period: 'Learning Period (1st student)',\n+        student0_application_learning_history: 'Learning Summary (1st student)',\n+        student0_application_skills: 'Programming Skills Summary (1st student)',\n+        student0_application_code_samples: 'Code Samples (1st student)',\n+        student0_application_location: 'Location during the summer (1st student)',\n+        student0_banking_info: 'Banking Information (1st student)',\n+        student0_application_minimum_money: 'Minimum Money (1st student)',\n+        student1_application_about: 'Background (2nd student)',\n+        student1_application_motivation: 'Motivation (2nd student)',\n+        student1_application_gender_identification: 'Gender Self-Identification (2nd student)',\n+        student1_application_coding_level: 'Skill Level (2nd student)',\n+        student1_application_community_engagement: 'Rails Girls / Community Involvement (2nd student)',\n+        student1_application_learning_period: 'Learning Period (2nd student)',\n+        student1_application_learning_history: 'Learning Summary (2nd student)',\n+        student1_application_skills: 'Programming Skills Summary (2nd student)',\n+        student1_application_code_samples: 'Code Samples (2nd student)',\n+        student1_application_location: 'Location during the summer (2nd student)',\n+        student1_banking_info: 'Banking Information (2nd student)',\n+        student1_application_minimum_money: 'Minimum Money (2nd student)',\n+        paid: 'Paid?',\n+        rgsoc_only: 'Exclusively for RGSoC Alumni?',\n+        misc_info: 'Additional information',\n+        location: 'City'\n+  }\n+\n+  def self.data_label(key)\n+    APPLICATION_DATA_LABELS[key] ? APPLICATION_DATA_LABELS[key] : human_attribute_name(key)", "path": "app/models/application.rb", "position": 39, "original_position": 39, "commit_id": "7edd749525d510cf915213408069a68dd5fe731c", "original_commit_id": "7edd749525d510cf915213408069a68dd5fe731c", "user": {"login": "carpodaster", "id": 164400, "avatar_url": "https://avatars2.githubusercontent.com/u/164400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carpodaster", "html_url": "https://github.com/carpodaster", "followers_url": "https://api.github.com/users/carpodaster/followers", "following_url": "https://api.github.com/users/carpodaster/following{/other_user}", "gists_url": "https://api.github.com/users/carpodaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/carpodaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carpodaster/subscriptions", "organizations_url": "https://api.github.com/users/carpodaster/orgs", "repos_url": "https://api.github.com/users/carpodaster/repos", "events_url": "https://api.github.com/users/carpodaster/events{/privacy}", "received_events_url": "https://api.github.com/users/carpodaster/received_events", "type": "User", "site_admin": false}, "body": "I would rather not copy the field translation copied to a constant (would require editing the semantics in two different places again). An idea would be to change the method body:\n\n``` ruby\ndef self.data_label(key)\n  ApplicationDraft.human_attribute_name(key) ? ApplicationDraft.human_attribute_name(key) : human_attribute_name(key)\nend\n```\n\nbut unfortunately `human_attribute_name` always returns a value.\n\nOTOH, we only need this in the iteration in `app/views/applications/show.html.slim:38`, so technically we never access direct database column attibutes of `Application`. We could use that one:\n\n``` ruby\ndef self.data_label(key)\n  ApplicationDraft.human_attribute_name(key)\nend\n```\n\nWhat dou you think?\n", "created_at": "2015-04-18T09:54:52Z", "updated_at": "2015-04-18T09:54:52Z", "html_url": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/207#discussion_r28642765", "pull_request_url": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/207", "author_association": "OWNER", "_links": {"self": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/comments/28642765"}, "html": {"href": "https://github.com/rails-girls-summer-of-code/rgsoc-teams/pull/207#discussion_r28642765"}, "pull_request": {"href": "https://api.github.com/repos/rails-girls-summer-of-code/rgsoc-teams/pulls/207"}}, "body_html": "<p>I would rather not copy the field translation copied to a constant (would require editing the semantics in two different places again). An idea would be to change the method body:</p>\n<div class=\"highlight highlight-source-ruby\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">self.data_label</span>(<span class=\"pl-smi\">key</span>)\n  <span class=\"pl-c1\">ApplicationDraft</span>.human_attribute_name(key) <span class=\"pl-k\">?</span> <span class=\"pl-c1\">ApplicationDraft</span>.human_attribute_name(key) : human_attribute_name(key)\n<span class=\"pl-k\">end</span></pre></div>\n<p>but unfortunately <code>human_attribute_name</code> always returns a value.</p>\n<p>OTOH, we only need this in the iteration in <code>app/views/applications/show.html.slim:38</code>, so technically we never access direct database column attibutes of <code>Application</code>. We could use that one:</p>\n<div class=\"highlight highlight-source-ruby\"><pre><span class=\"pl-k\">def</span> <span class=\"pl-en\">self.data_label</span>(<span class=\"pl-smi\">key</span>)\n  <span class=\"pl-c1\">ApplicationDraft</span>.human_attribute_name(key)\n<span class=\"pl-k\">end</span></pre></div>\n<p>What dou you think?</p>", "body_text": "I would rather not copy the field translation copied to a constant (would require editing the semantics in two different places again). An idea would be to change the method body:\ndef self.data_label(key)\n  ApplicationDraft.human_attribute_name(key) ? ApplicationDraft.human_attribute_name(key) : human_attribute_name(key)\nend\nbut unfortunately human_attribute_name always returns a value.\nOTOH, we only need this in the iteration in app/views/applications/show.html.slim:38, so technically we never access direct database column attibutes of Application. We could use that one:\ndef self.data_label(key)\n  ApplicationDraft.human_attribute_name(key)\nend\nWhat dou you think?"}